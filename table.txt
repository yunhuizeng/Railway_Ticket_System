create table CREDITCARD
 ( "CARD_ID" NUMBER(20) NOT NULL ENABLE,
   "USERS_ID" NUMBER(20) NOT NULL ENABLE,
   "CARD_NO" NUMBER(20) NOT NULL ENABLE,
   "PAYMENT_BRAND" VARCHAR2(20) NOT NULL ENABLE,
   "FIRST_NAME" VARCHAR2(20),
   "LAST_NAME" VARCHAR2(20),
   "EXPIRATION_DATE" DATE NOT NULL ENABLE,
   "BILLING_ADDRESS" VARCHAR2(30),
   "CITY" VARCHAR2(20),
   "ZIP_CODE" NUMBER(6),
   "STATE" VARCHAR2(10),
  CONSTRAINT "CREDITCARD_PK" PRIMARY KEY ("CARD_ID") ENABLE,
  CONSTRAINT "CREDITCARD_CON" FOREIGN KEY ("USERS_ID")
	  REFERENCES  USERS ("USERS_ID") ENABLE
 )
 ;


CREATE TABLE USERS
 ( "USERS_ID" NUMBER(20) NOT NULL ENABLE,
   "FIRST_NAME" VARCHAR2(20) NOT NULL ENABLE,
   "LAST_NAME" VARCHAR2(20) NOT NULL ENABLE,
   "EMAIL" VARCHAR2(30) NOT NULL ENABLE,
   "GENDER" VARCHAR2(10),
   "AGE" NUMBER(3),
   "PASSWORD" VARCHAR2(30) NOT NULL ENABLE,
   "ADDRESS" VARCHAR2(30),
   "CITY" VARCHAR2(30),
   "ZIP_CODE" NUMBER(6),
   "STATE" VARCHAR2(10),
   "ACTIVATION" NUMBER(1),
   "ENABLE" NUMBER(1),
  CONSTRAINT "USERS_PK" PRIMARY KEY ("USERS_ID") ENABLE
)
 ;


 
create table ORDERS
 ( "ORDER_NO" NUMBER(20) NOT NULL ENABLE,
   "USERS_ID" NUMBER(20) NOT NULL ENABLE,
   "ORDER_DATE" DATE,
   "CREDITCARD_NO" NUMBER(20),
   "ORDER_STATUE" NUMBER(2),
  CONSTRAINT "Order_PK" PRIMARY KEY ("ORDER_NO") ENABLE, 
	 CONSTRAINT "Order_CON" FOREIGN KEY ("USERS_ID")
	  REFERENCES  USERS ("USERS_ID") ENABLE
 )
 ;


create table TICKET
 ( "TICKET_NO" NUMBER(20) NOT NULL ENABLE,
   "ORDER_NO" NUMBER(20) NOT NULL ENABLE,
   "DEPARTURESECTION_NO" NUMBER(20) NOT NULL ENABLE,
   "ARRIVALSECTION_NO" NUMBER(20) NOT NULL ENABLE,
   "PRICE" NUMBER(20) NOT NULL ENABLE,
   "ENABLE" NUMBER(1),
  CONSTRAINT "TICKET_PK" PRIMARY KEY ("TICKET_NO") ENABLE, 
  CONSTRAINT "TICKETS_CON" FOREIGN KEY ("ORDER_NO")
	  REFERENCES  ORDERS ("ORDER_NO") ENABLE,
  CONSTRAINT "TICKETA_CON" FOREIGN KEY ("DEPARTURESECTION_NO")
	  REFERENCES  SECTION ("SECTION_NO") ENABLE,
  CONSTRAINT "TICKETC_CON" FOREIGN KEY ("ARRIVALSECTION_NO")
	  REFERENCES  SECTION ("SECTION_NO") ENABLE
)
;


CREATE TABLE STATION(
	STATION_NO number(20) NOT NULL,
	NAME varchar2(20) NOT NULL,
	ADDRESS varchar2(20),
	CITY varchar2(20),
	ZIP_CODE number(5),
	STATE varchar2(20),
	ENABLE number(1),
	primary key (STATION_NO));

CREATE TABLE TRAIN(
	TRAIN_NO number(20) NOT NULL,
	TOTAL_TICKET_QTY number(20) NOT NULL,
	ENABLE number(2),
	primary key (TRAIN_NO));

CREATE TABLE SCHEDULE(
	SCHEDULE_NO number(20) NOT NULL,
	SECTION_NO number(20) NOT NULL,
	EXECUTE_DATE date,
	SOLD_TICKET_QTY number(20),
	primary key (SCHEDULE_NO),
	CONSTRAINT S_NO foreign key (SECTION_NO) references SECTION (SECTION_NO));

CREATE TABLE SECTION(
	SECTION_NO number(20) NOT NULL,
	TRAIN_NO number(20) NOT NULL,
	DEPARTURE_STATION number(20) NOT NULL,
	ARRIVAL_STATION number(20) NOT NULL,
	TRAVEL_DURATION number(20),
	STOP_DURATION number(20),
	SEQ_NO number(20) NOT NULL,
	SECTION_PRICE number(20),
	ENABLE number(1),
	primary key (SECTION_NO),
	CONSTRAINT T_NO foreign key (TRAIN_NO) references TRAIN (TRAIN_NO),
	CONSTRAINT D_S foreign key (DEPARTURE_STATION) references STATION(STATION_NO),
	CONSTRAINT A_S foreign key (ARRIVAL_STATION) references STATION(STATION_NO));









